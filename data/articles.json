[
  {
    "title": "使用 Node.js 监控 XAUUSD 价格并自动提醒",
    "date": "2026-02-03",
    "excerpt": "本文介绍如何用 Node.js 脚本监控黄金价格，当价格跌破指定阈值时自动发送提醒通知。",
    "content": "<h2>前言</h2>\n<p>黄金（XAUUSD）价格波动较大，我们希望能够实时监控价格，当价格跌破某个阈值时自动发出提醒。本文将介绍如何使用 Node.js 免费 API 实现这个功能。</p>\n\n<h2>准备工作</h2>\n<p>我们需要：</p>\n<ul>\n<li>Node.js 环境</li>\n<li>免费的价格 API：gold-api.com</li>\n<li>系统 crontab 定时任务</li>\n<li>Clawdbot 心跳通知</li>\n</ul>\n\n<h2>第一步：获取价格 API</h2>\n<p>使用 gold-api.com 的免费接口获取 XAUUSD 实时价格：</p>\n<pre><code>curl https://api.gold-api.com/price/XAU</code></pre>\n<p>返回结果：</p>\n<pre><code>{\n  \"name\": \"Gold\",\n  \"price\": 4771.799805,\n  \"symbol\": \"XAU\",\n  \"updatedAt\": \"2026-02-03T03:12:09Z\"\n}</code></pre>\n\n<h2>第二步：创建监控脚本</h2>\n<p>创建 <code>monitor-xau-alert.js</code>：</p>\n<pre><code>const https = require('https');\nconst fs = require('fs');\n\nconst PRICE_FILE = '/tmp/xau-alert.json';\nconst THRESHOLD = 4500;\n\nasync function checkPrice() {\n  try {\n    const data = await new Promise((resolve, reject) => {\n      https.get('https://api.gold-api.com/price/XAU', (res) => {\n        let body = '';\n        res.on('data', chunk => body += chunk);\n        res.on('end', () => resolve(JSON.parse(body)));\n      }).on('error', reject);\n    });\n    \n    const price = data.price;\n    const now = new Date().toISOString();\n    \n    console.log(`[${now}] XAU/USD: $${price.toFixed(2)}`);\n    \n    if (price < THRESHOLD) {\n      const alertData = {\n        price: price,\n        time: now,\n        notified: false\n      };\n      fs.writeFileSync(PRICE_FILE, JSON.stringify(alertData, null, 2));\n      console.log('PRICE DROP DETECTED!');\n    }\n  } catch (e) {\n    console.error('Error:', e.message);\n  }\n}\n\ncheckPrice();</code></pre>\n\n<h2>第三步：设置定时任务</h2>\n<p>使用 crontab 每分钟执行一次监控脚本：</p>\n<pre><code>*/1 * * * * /usr/bin/node /root/clawd/monitor-xau-alert.js >> /tmp/xau-monitor.log 2>&1</code></pre>\n\n<h2>第四步：配置 Clawdbot 通知</h2>\n<p>创建心跳检测脚本 <code>check-xau-alert.js</code>：</p>\n<pre><code>const fs = require('fs');\nconst PRICE_FILE = '/tmp/xau-alert.json';\n\nif (fs.existsSync(PRICE_FILE)) {\n  const alert = JSON.parse(fs.readFileSync(PRICE_FILE));\n  if (!alert.notified && alert.price) {\n    console.log(`XAUUSD 价格警报！\n当前价格: $${alert.price}\n时间: ${alert.time}`);\n    alert.notified = true;\n    fs.writeFileSync(PRICE_FILE, JSON.stringify(alert, null, 2));\n  }\n}</code></pre>\n\n<h2>运行效果</h2>\n<p>在 Clawdbot 心跳中运行此脚本，当价格跌破 $4500 时会自动收到通知。</p>\n<p><img src=\"screenshot-monitor.png\" alt=\"监控运行截图\" /></p>\n\n<h2>总结</h2>\n<p>通过以上步骤，我们实现了一个轻量级的 XAUUSD 价格监控系统：</p>\n<ul>\n<li>✅ 免费 API，无需付费</li>\n<li>✅ 每分钟自动检查</li>\n<li>✅ 价格跌破阈值时自动提醒</li>\n<li>✅ 低资源消耗，不占用大量 token</li>\n</ul>\n\n<p>项目源码已开源：<a href=\"https://github.com/lty888/xau-monitor\">GitHub - lty888/blog</a></p>",
    "id": 1
  },
  {
    "id": 2,
    "title": "Clawdbot 对接钉钉群机器人实战记录",
    "date": "2026-02-01",
    "excerpt": "本文记录了Clawdbot对接钉钉群机器人的完整过程，包括方案选择、遇到的问题以及最终解决方案。",
    "content": "<h2>前言</h2><p>近期尝试为Clawdbot增加钉钉群机器人对接功能，实现与Telegram类似的消息收发体验。本文记录整个对接过程的详细步骤、遇到的问题以及最终的解决方案。</p><h2>需求分析</h2><p>目标是实现：</p><ul><li>在Clawdbot中发送消息到钉钉群</li><li>在钉钉群中发送消息，Clawdbot能够接收并回复</li><li>操作方式与Telegram类似</li></ul><h2>方案选择</h2><p>钉钉机器人对接有两种主要方案：</p><ol><li><strong>简单webhook方案</strong>：快速实现发送功能，接收功能受限</li><li><strong>完整回调方案</strong>：支持双向通信，但配置复杂</li></ol><h2>实施过程</h2><h3>第一步：创建钉钉机器人</h3><p>在钉钉群中创建自定义机器人：</p><ol><li>进入群设置 → 智能群助手 → 添加机器人</li><li>选择「自定义机器人」</li><li>设置机器人名称为「clawd」</li><li>选择安全设置（加签或自定义关键词）</li><li>获取Webhook URL和加签密钥</li></ol><h3>第二步：开发发送服务</h3><p>创建Node.js脚本实现消息发送，包含加签算法。</p><h3>第三步：测试发送功能</h3><p>成功实现消息发送。</p><h3>第四步：尝试接收功能</h3><p>钉钉个人版的回调功能受限，无法实现完整的双向通信。</p><h2>遇到的问题</h2><h3>问题1：加签验证</h3><p>初始发送失败，需要实现加签算法。</p><h3>问题2：回调功能受限</h3><p>钉钉个人版的回调功能受限，无法实现双向通信。</p><h2>方案1与方案2的选择</h2><p>由于钉钉个人版限制，最终选择了方案1（简单webhook），实现了发送功能。</p><h3>方案1（简单webhook）</h3><ul><li>优点：快速实现</li><li>缺点：只能发送，无法接收</li></ul><h3>方案2（完整回调）</h3><ul><li>优点：支持双向通信</li><li>缺点：需要企业版、配置复杂</li></ul><h2>总结</h2><p>本次对接成功实现了从Clawdbot发送消息到钉钉群的功能。</p><p><strong>已实现</strong>：从Clawdbot发送消息到钉钉群</p><p><strong>待实现</strong>：从钉钉群接收消息并回复（需要钉钉企业版）</p><p><strong>替代方案</strong>：定时推送、手动触发发送消息</p>"
  },
  {
    "id": 3,
    "title": "5分钟搭建个人网盘 - FileBrowser 极简部署教程",
    "date": "2026-01-31",
    "excerpt": "本文介绍如何使用FileBrowser在5分钟内搭建一个轻量、美观的个人网盘，包含详细安装步骤和常见问题解答。",
    "content": "<h1>5分钟搭建个人网盘 - FileBrowser 极简部署教程</h1>\n<h2>前言</h2>\n<p>在这个数字化时代，我们每天都在产生大量的文件和数据。照片、文档、视频、工作资料...这些文件散落在各种云服务、硬盘和邮箱中，既不方便管理，也存在数据安全和隐私泄露的风险。</p>\n<p>拥有一个属于自己的个人网盘，可以：</p>\n<ul>\n<li><strong>集中管理</strong>：所有重要文件都在一个地方</li>\n<li><strong>随时随地访问</strong>：通过浏览器或手机App随时查看</li>\n<li><strong>数据安全</strong>：文件存储在自己掌控的服务器上</li>\n<li><strong>分享便捷</strong>：轻松分享文件给朋友和同事</li>\n<li><strong>成本可控</strong>：一次性投入，无惧云存储涨价</li>\n</ul>\n<h2>为什么选择 FileBrowser</h2>\n<p>在众多个人网盘解决方案中，我选择了 <strong>FileBrowser</strong>，原因如下：</p>\n<ol>\n<li><strong>轻量级</strong>：二进制文件仅约20MB，资源占用极低</li>\n<li><strong>界面美观</strong>：现代化的Web界面，支持深色模式</li>\n<li><strong>功能完整</strong>：上传下载、文件管理、在线预览、分享链接等功能一应俱全</li>\n<li><strong>手机适配</strong>：响应式设计，手机浏览器完美访问</li>\n<li><strong>易于部署</strong>：单文件运行，无需复杂的数据库配置</li>\n<li><strong>开源免费</strong>：MIT协议，完全免费使用</li>\n</ol>\n<h2>环境准备</h2>\n<p>本次部署环境：</p>\n<ul>\n<li>操作系统：Ubuntu 22.04 (arm64)</li>\n<li>已有服务：Nginx（已安装运行）</li>\n<li>端口占用：8080（FileBrowser）、80/443（Nginx）</li>\n</ul>\n<p>确保你的服务器满足以下条件：</p>\n<ul>\n<li>具有公网IP或内网访问权限</li>\n<li>已安装Nginx</li>\n<li>有足够的磁盘空间存储文件</li>\n</ul>\n<h2>安装步骤</h2>\n<h3>1. 下载 FileBrowser</h3>\n<pre><code class=\"language-bash\"># 创建目录\nmkdir -p /root/clawd/filebrowser/files\n\n# 下载二进制文件（Linux arm64版本）\ncd /root/clawd/filebrowser\ncurl -L -o filebrowser.tar.gz https://github.com/filebrowser/filebrowser/releases/download/v2.56.0/linux-arm64-filebrowser.tar.gz\n\n# 解压\ntar -xzf filebrowser.tar.gz\nrm filebrowser.tar.gz\nchmod +x filebrowser\n</code></pre>\n<h3>2. 创建配置文件</h3>\n<p>创建 <code>config.json</code> 配置文件：</p>\n<pre><code class=\"language-json\">{\n  &quot;port&quot;: 8080,\n  &quot;address&quot;: &quot;127.0.0.1&quot;,\n  &quot;log&quot;: &quot;stdout&quot;,\n  &quot;database&quot;: &quot;/root/clawd/filebrowser/filebrowser.db&quot;,\n  &quot;root&quot;: &quot;/root/clawd/filebrowser/files&quot;\n}\n</code></pre>\n<p>配置说明：</p>\n<ul>\n<li><code>port</code>：服务监听端口</li>\n<li><code>address</code>：绑定地址（127.0.0.1表示仅本地访问，通过Nginx反向代理）</li>\n<li><code>database</code>：SQLite数据库文件路径</li>\n<li><code>root</code>：文件存储根目录</li>\n</ul>\n<h3>3. 启动服务</h3>\n<pre><code class=\"language-bash\"># 首次启动会自动创建数据库并创建admin用户\ncd /root/clawd/filebrowser\nnohup ./filebrowser --config config.json --username admin --password admin123 &gt; filebrowser.log 2&gt;&amp;1 &amp;\n\n# 验证服务已启动\ncurl -s http://127.0.0.1:8080/\n</code></pre>\n<p>启动成功后，会在当前目录创建 <code>filebrowser.db</code> 数据库文件。</p>\n<h3>4. 配置 Nginx 反向代理</h3>\n<p>编辑 <code>/etc/nginx/sites-available/default</code>，添加以下配置：</p>\n<pre><code class=\"language-nginx\">location /drive/ {\n    proxy_pass http://127.0.0.1:8080/;\n    proxy_http_version 1.1;\n    proxy_set_header Host $host;\n    proxy_set_header X-Real-IP $remote_addr;\n    proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;\n    proxy_set_header X-Forwarded-Proto $scheme;\n}\n</code></pre>\n<p>重新加载 Nginx：</p>\n<pre><code class=\"language-bash\">nginx -t\nnginx -s reload\n</code></pre>\n<h2>初始化配置</h2>\n<h3>登录管理后台</h3>\n<ol>\n<li>访问：<code>http://your-server/drive/</code></li>\n<li>使用初始账号登录：<ul>\n<li>用户名：<code>admin</code></li>\n<li>密码：<code>admin123</code></li>\n</ul>\n</li>\n</ol>\n<h3>首次设置建议</h3>\n<p>登录后建议进行以下设置：</p>\n<ol>\n<li><strong>修改密码</strong>：右上角 → Settings → User → 修改密码</li>\n<li><strong>创建新用户</strong>：如果需要多人使用，创建普通用户</li>\n<li><strong>设置分享选项</strong>：配置默认分享有效期、访问密码等</li>\n<li><strong>外观设置</strong>：选择深色模式、设置语言为中文</li>\n</ol>\n<h2>常见问题</h2>\n<h3>Q1: 如何更新 FileBrowser？</h3>\n<pre><code class=\"language-bash\"># 停止旧版本\npkill filebrowser\n\n# 下载新版本\ncd /root/clawd/filebrowser\ncurl -L -o filebrowser.tar.gz https://github.com/filebrowser/filebrowser/releases/download/v2.56.0/linux-arm64-filebrowser.tar.gz\n\n# 解压（会覆盖旧二进制文件）\ntar -xzf filebrowser.tar.gz\nrm filebrowser.tar.gz\n\n# 重启服务\nnohup ./filebrowser --config config.json --username admin --password admin123 &gt; filebrowser.log 2&gt;&amp;1 &amp;\n</code></pre>\n<h3>Q2: 如何备份数据？</h3>\n<p>需要备份两部分：</p>\n<ol>\n<li>数据库文件：<code>/root/clawd/filebrowser/filebrowser.db</code></li>\n<li>文件存储目录：<code>/root/clawd/filebrowser/files/</code></li>\n</ol>\n<pre><code class=\"language-bash\"># 备份数据库\ncp /root/clawd/filebrowser/filebrowser.db /backup/filebrowser-backup.db\n\n# 备份文件（建议定期使用rsync增量备份）\nrsync -avz /root/clawd/filebrowser/files/ /backup/files/\n</code></pre>\n<h3>Q3: 手机端如何使用？</h3>\n<p>FileBrowser 是响应式设计，直接在手机浏览器中访问：</p>\n<ul>\n<li>iOS：Safari 浏览器</li>\n<li>Android：Chrome 或系统浏览器</li>\n</ul>\n<p>输入网盘地址，使用管理员账号登录即可。</p>\n<h3>Q4: 如何开启HTTPS？</h3>\n<p>如果需要HTTPS，可以在Nginx配置中添加SSL证书：</p>\n<pre><code class=\"language-nginx\">server {\n    listen 443 ssl;\n    server_name your-domain.com;\n    \n    ssl_certificate /etc/nginx/ssl/cert.pem;\n    ssl_certificate_key /etc/nginx/ssl/key.pem;\n    \n    location /drive/ {\n        proxy_pass http://127.0.0.1:8080/;\n        # ... 其他配置同上\n    }\n}\n\nserver {\n    listen 80;\n    return 301 https://$host$request_uri;\n}\n</code></pre>\n<h3>Q5: 上传文件大小限制？</h3>\n<p>默认限制为1GB。如需修改，在配置文件中添加：</p>\n<pre><code class=\"language-json\">{\n  &quot;port&quot;: 8080,\n  &quot;address&quot;: &quot;127.0.0.1&quot;,\n  &quot;log&quot;: &quot;stdout&quot;,\n  &quot;database&quot;: &quot;/root/clawd/filebrowser/filebrowser.db&quot;,\n  &quot;root&quot;: &quot;/root/clawd/filebrowser/files&quot;,\n  &quot;maxSize&quot;: 104857600\n}\n</code></pre>\n<p><code>maxSize</code> 单位为字节，104857600 = 100MB。</p>\n<h2>总结</h2>\n<p>通过以上步骤，我们成功搭建了一个轻量、美观、功能完整的个人网盘。FileBrowser 的优势在于：</p>\n<ul>\n<li>✅ <strong>极简部署</strong>：5分钟即可完成</li>\n<li>✅ <strong>资源友好</strong>：内存占用低，老旧设备也能运行</li>\n<li>✅ <strong>体验优秀</strong>：Web界面现代美观，移动端体验佳</li>\n<li>✅ <strong>维护简单</strong>：单文件运行，无需复杂配置</li>\n</ul>\n<p>现在，你可以开始使用自己的个人网盘了！上传第一张照片，分享第一个文件夹，享受属于自己的云端存储空间吧！</p>\n<hr>\n<p><strong>访问地址</strong>：<code>http://你的服务器IP/drive/</code></p>\n<p><strong>管理账号</strong>：<code>admin</code> / <code>admin123</code></p>\n<p><strong>文件存储目录</strong>：<code>/root/clawd/filebrowser/files</code></p>\n<p>如有任何问题，欢迎在评论区交流讨论！</p>\n"
  },
  {
    "id": 4,
    "title": "欢迎来到我的博客",
    "date": "2024-01-01",
    "excerpt": "这是一个新开的博客，用于记录我的生活和学习。",
    "content": "<p>欢迎来到我的个人博客！</p>"
  }
]